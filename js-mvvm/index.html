<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>js mvvm</title>
</head>
<body>
  <div id="app">
    23123123
    <div>{{name}}</div>
    <div>{{gender}}</div>
    <div>{{title}}</div>
    <div>{{tag}}</div>
  </div>

  <script src="./JsonObserve.js"></script>
  <script>
    // 正则
    const testReg = /\{\{[a-z,A-Z,0-9,\.,\s]+\}\}/g, formatReg = /[\s,{,}]/g;
    // app
    let app = document.querySelector("#app");

    // data
    let data = {
      person: {
        student: {
          name: 'zlh'
        }
      },
      name: 'zlh',
      gender: 1,
      title: 'front-end master',
      tag: [123,233]
    }

    let callback = (newVal, oldVal, path) => {
      console.log(newVal, oldVal, 'path——————', path);
    }
    

    new JsonObserve({
      el: "#app",
      obj: data,
      callback
    });
    data.name = 'zlh-nb';
    data.tag.push('nb');
    data.tag.push('Handsome');
  </script>
</body>
</html>